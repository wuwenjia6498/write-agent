# 任务：优化素材检索展示逻辑，解决重复与噪声问题

## 1. 素材清洗与去重 (Backend/RAG)
- **去重逻辑**：在 Step 5 检索 `personal_materials` 时，增加 `source_url` 去重。同一来源的文章仅保留相关性评分最高的一个片段。
- **噪声过滤**：编写一个过滤函数，利用正则或 AI 剔除素材中的“点击购买”、“加盟”等营销性脏数据。

## 2. 界面呈现重构 (Frontend)
- **禁止原始 JSON 输出**：将 style_dna 的 JSON 数据解析并映射到 UI 组件（如 image_368538.png 中的标签云和画像描述）。
- **素材分级展示**：
    - **长文素材**：仅显示标题 + 前 100 字摘要 + “查看全文”按钮。
    - **短碎素材**：以“灵感卡片”形式整齐排列。

## 3. 视觉优化
- 仿照类似上传截图的侧边栏设计，将素材以清晰的 Card 形式排列，每张卡片标明：[素材类型]、[来源]、[匹配度]。

## 4. Think Aloud
- 请先说明你打算如何在不增加太多计算开销的情况下，识别并合并那些内容几乎完全重复的素材片段。