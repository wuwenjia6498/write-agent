# 任务：优化样文分析逻辑，从“简单拼接”升级为“6维特征建模”

## 1. 现状评价
目前的拼接分析逻辑能抓取共性，但分辨率较低。为了更精准地还原“老约翰” 15 年的写作手感，需要引入更细腻的分析机制。

## 2. 逻辑优化要求
请修改 `server/models/channels.py`（或其他相关逻辑文件），将单步拼接分析改为以下三步走逻辑：

### A. 单篇特征提取 (Individual Feature Extraction)
- **触发机制**：当样文上传到频道时，调用 LLM 对该样文进行深度扫描。
- **分析维度**：必须严格遵循 `README.md` 中的 6 大维度：开头习惯、句式特征、段落节奏、常用表达、语气特点、结尾风格。
- **存储**：将分析结果以 JSON 格式存储在 `style_samples` 的元数据中。

### B. 频道 DNA 合成 (Channel DNA Synthesis)
- **逻辑**：在生成频道整体画像时，不再直接拼接数万字的正文，而是让 AI 综合上述 5 篇样文的“6维特征报告”。
- **目标**：识别出作者在不同主题下的“变”与“不变”，形成更具层次感的《频道风格画像》。

### C. 界面展示增强
- 在“频道管理”页面的样文展示区域，将 AI 提取出的 6 维核心特征（如：开头习惯、句式偏好）以标签或简述形式展示出来。

## 3. 执行规范
- 编码前请输出 **Think Aloud**，展示你为单篇样文设计的 6 维特征 JSON 数据结构。
- 确保在 Step 7 初稿生成时，Prompt 能够引用这些精细化的特征指令。